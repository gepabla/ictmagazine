/*
 * File: app/view/popUpImagen.js
 *
 * This file was generated by Sencha Architect version 2.1.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.0.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.0.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('MyApp.view.popUpImagen', {
    extend: 'Ext.Panel',
    alias: 'widget.popUpImagen',

    config: {
        id: 'popUpImagen',
        itemId: 'popUpImagen',
        style: 'background-color : #000000',
        zIndex: 99999,
        autoDestroy: false,
        modal: false,
        scrollable: 'both',
        hideAnimation: {
            type: 'fadeOut'
        },
        showAnimation: {
            type: 'pop'
        },
        tpl: [
            '<div id=\'imageContainer\' > <img id = \'bigImg\' class=\'bigImg\' src=\'{imageSrc}\' style=\'margin-top:20%;width : 100%\'/> </div>'
        ],
        items: [
            {
                xtype: 'button',
                height: '5%',
                itemId: 'mybutton3',
                ui: 'confirm-round',
                width: '30%',
                text: 'Volver'
            }
        ],
        listeners: [
            {
                fn: 'onMybutton3Tap',
                event: 'tap',
                delegate: '#mybutton3'
            },
            {
                fn: 'onPopUpImagenHide',
                event: 'hide'
            },
            {
                fn: 'onPopUpImagenInitialize',
                event: 'initialize'
            },
            {
                fn: 'onPopUpImagenShow',
                event: 'show'
            }
        ]
    },

    onMybutton3Tap: function(button, e, options) {
        var contenedorGeneral = Ext.getCmp('contenedorGeneral');
        var barraNavegacion = contenedorGeneral.getComponent('barraNavegacion');

        this.hide();
        barraNavegacion.show();
    },

    onPopUpImagenHide: function(component, options) {

    },

    onPopUpImagenInitialize: function(component, options) {
        Ext.getBody().on('pinch', function(e){

            var elemento = Â Ext.dom.Element.fly(e.target);
            if ( elemento.hasCls('bigImg') ){

                var scaleAmount = e.scale;
                elemento.setStyle('-webkit-transform', 'scaleX(' + scaleAmount + ') scaleY(' + scaleAmount + ')');


            }

            return false;
        });
    },

    onPopUpImagenShow: function(component, options) {

        window.setTimeout(function(){
            var contenedorGeneral = Ext.getCmp('contenedorGeneral');
            var barraNavegacion = contenedorGeneral.getComponent('barraNavegacion');
            barraNavegacion.hide();

        },10);
    }

});